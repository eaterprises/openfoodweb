%div.dashboard_item.sixteen.columns.alpha#enterprises
  %div.header.sixteen.columns.alpha{ :class => "#{@enterprises.count > 0 ? "" : "red"}"}
    %h3.thirteen.columns.alpha My Enterprises
    - if @enterprises.any?
      %a.three.columns.omega.icon-plus.button.blue{ href: "#{main_app.new_admin_enterprise_path}" }
        CREATE NEW
    - else
      %a.with-tip{ title: "Enterprises are Producers and/or Hubs and are the basic unit of organisation within the Open Food Network." } What's this?
  - if @enterprises.empty?
    %div.sixteen.columns.alpha.list-item.red
      %span.text.fifteen.columns.alpha You don't have any enterprises yet.
      %span.one.columns.omega
        %span.icon-remove-sign
    %a.sixteen.columns.alpha.button.bottom.red{ href: "#{main_app.new_admin_enterprise_path}" }
      CREATE A NEW ENTERPRISE
      %span.icon-arrow-right
  - else
    %div.sixteen.columns.alpha.list-title
      %span.five.columns.alpha Name
      %span.centered.three.columns Payment Methods
      %span.centered.three.columns Shipping Methods
      %span.centered.three.columns Enterprise Fees
    %div.sixteen.columns.alpha.list
      - @enterprises.each do |enterprise|
        %a.sixteen.columns.alpha.list-item{ class: "#{cycle('odd','even')}", href: "#{main_app.edit_admin_enterprise_path(enterprise)}" }
          %span.five.columns.alpha
            = enterprise.name
          %span.symbol.three.columns.centered
            - payment_method_count = enterprise.payment_methods.count
            - if payment_method_count < 1 && enterprise.is_distributor
              %span.icon-remove-sign.with-tip{ title: "#{enterprise.name} has no Payment Methods" }
            - elsif enterprise.is_primary_producer
              %span.icon-ok-sign.with-tip{ title: "Producers (like #{enterprise.name}) do not require Payment Methods." }
            - else
              %span.icon-ok-sign.with-tip{ title: "#{payment_method_count} Payment Method#{payment_method_count > 1 ? "s" : ""}" }
          %span.symbol.three.columns.centered
            - shipping_method_count = enterprise.shipping_methods.count
            - if shipping_method_count < 1 && enterprise.is_distributor
              %span.icon-remove-sign.with-tip{ title: "#{enterprise.name} has no Shipping Methods" }
            - elsif enterprise.is_primary_producer
              %span.icon-ok-sign.with-tip{ title: "Producers (like #{enterprise.name}) do not require Shipping Methods." }
            -else
              %span.icon-ok-sign.with-tip{ title: "#{shipping_method_count} Shipping Method#{shipping_method_count > 1 ? "s" : ""}" }
          %span.symbol.three.columns.centered
            - fee_count = enterprise.enterprise_fees.count
            - if fee_count > 0
              %span.icon-ok-sign.with-tip{ title: "#{fee_count} Fee#{fee_count > 1 ? "s" : ""}" }
            - else
              %span.icon-warning-sign.with-tip{ title: "#{enterprise.name} has no Enterprise Fees" }
          %span.two.columns.omega.right
            %span.icon-arrow-right
    %a.sixteen.columns.alpha.button.bottom.blue{ href: "#{main_app.admin_enterprises_path}" }
      MANAGE MY ENTERPRISES
      %span.icon-arrow-right