= form_for @search, :url => spree.orders_and_distributors_admin_reports_path do |f|
  = render 'date_range_form', f: f

  = check_box_tag :csv
  = label_tag :csv, t(:report_customers_csv)
  %br
  = button t(:search)

%br
%br

%br
%table#listing_orders.index
  %thead
    %tr{'data-hook' => 'orders_header'}
      - @report.header.each do |heading|
        %th=heading
  %tbody
    - @report.table.each do |row|
      %tr
        - row.each do |column|
          %td= column
    - if @report.table.empty?
      %tr
        %td{:colspan => "2"}= t(:none)

%br
%br
%div{ ng: { app: 'admin.reports', controller: 'ordersAndDistributorsController' } }
  %form{ name: 'orders_and_distributors_report_form', ng: { submit: 'load()' } }
    = render 'ng_date_range_form'

    .row
      = submit_tag t(:search)
  %br
    -#
    .report-grid{ 'ui-grid' => 'gridOptions',
      'ui-grid-tree-view' => true,
      'ui-grid-resize-columns' => true,
      'ui-grid-exporter' => true,
      'ui-grid-grouping' => true,
      'ui-grid-move-columns' => true,
      style: 'height: 80vh; width: 100%' }
      .no-data-label.sixteen.columns.align-center{ 'ng-show' => '!gridOptions.data.length && loadAttempted' } No data available
      .loading-data-label.sixteen.columns.align-center{ 'ng-hide' => '!gridOptions.data.length && !loading || gridOptions.data.length' } Loading....
