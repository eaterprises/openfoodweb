= render partial: 'spree/admin/shared/product_sub_menu'

- content_for :page_title do
  = t('.editing_option_type')
  %span.green
    "#{@option_type.name}"

- content_for :page_actions do
  %li
    %span#new_add_option_value
      = link_to_add_fields t('.add_option_value'), "tbody#option_values", class: 'button icon-plus'
  %li
    = button_link_to t('.back_to_option_types_list'), spree.admin_option_types_path, icon: 'icon-arrow-left'

= render partial: 'spree/shared/error_messages', locals: { target: @option_type }

= form_for [:admin, @option_type] do |f|
  %fieldset
    %legend{align: "center"}= t('.option_values')
    = render partial: 'form', locals: { f: f }
    %table.index.sortable{"data-sortable-link" => update_values_positions_admin_option_types_url}
      %thead
        %tr
          %th{colspan: "2"}= t('.name')
          %th= t('.display')
          %th.actions
      %tbody#option_values
        - if @option_type.option_values.empty?
          - tr_class = cycle('odd', 'even')
          %tr#none{class: tr_class, "data-hook" => "option_none"}
            %td{colspan: "2"}= t('none')
            %td.actions
        - else
          = f.fields_for :option_values do |option_value_form|
            = render partial: 'option_value_fields', locals: { f: option_value_form }
    = render partial: 'spree/admin/shared/edit_resource_links'
